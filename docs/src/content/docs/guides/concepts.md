---
title: Concepts
description: Understand the core ideas behind TypeSpec Events.
---

# Core Concepts

This guide explains the fundamental concepts behind the `typespec-events` project and how they help you manage your tracking events effectively.

## Single Source of Truth

The central idea of `typespec-events` is to establish a **single source of truth** for all your tracking event definitions. By defining your events in a single TypeSpec file, you eliminate ambiguity and ensure consistency across your entire system, regardless of the programming languages or platforms involved.

## Defining Events with `@event`

In `typespec-events`, you define your tracking events using standard TypeSpec models. The `@event` decorator is used to mark a specific model as a trackable event.

The `@event` decorator requires a single argument: a string literal representing the name of the event. This name must be in `snake_case`.

```tsp
import "@typespec-events/typespec";

using TypespecEvents;

@event("user_profile_updated")
model UserProfileUpdatedEvent {
  userId: string;
  oldEmail?: string;
  newEmail?: string;
  updatedFields: string[];
}
```

In this example, the `UserProfileUpdatedEvent` model is marked as a trackable event with the name `"user_profile_updated"`. The model's properties define the data that should be included with this event.

## Code Generation

Once you have defined your events in TypeSpec, the `@typespec-events/typespec` emitter processes these definitions. It reads your `.tsp` files and automatically generates code in your target programming languages.

For example, for TypeScript/Zod, the emitter generates Zod schemas that precisely match your TypeSpec event models. This generated code ensures that the data you send with your events conforms to the defined structure.

## The Role of the Runtime

The `@typespec-events/runtime` package provides helper functions designed to work with the code generated by the emitter. Its primary role is to facilitate the integration of your generated event schemas with your application's actual tracking implementation (e.g., calling an analytics SDK).

The `defineTracker` function from the runtime package allows you to create a type-safe tracking function. This function takes the generated event schemas and your underlying tracking logic. When you use the returned tracking function, it provides type hints based on your schemas and can optionally perform runtime validation using Zod to catch data inconsistencies before sending the event.

By using the runtime package, you gain type safety and optional validation, making it easier to correctly implement tracking and catch errors during development.
